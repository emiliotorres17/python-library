#!/usr/bin/env python3
"""========================================================================
Purpose:
    The purpose of this subroutine is to calculate the enstrophy field.

Author:
    Emilio Torres
========================================================================"""
#=========================================================================#
# Preamble                                                                #
#=========================================================================#
#-------------------------------------------------------------------------#
#-------------------------------------------------------------------------#
# Python packages                                                         #
#-------------------------------------------------------------------------#
import sys
from subprocess import call
import numpy as np
#=========================================================================#
# User defined functions                                                  #
#=========================================================================#
#-------------------------------------------------------------------------#
# Enstrophy                                                               #
#-------------------------------------------------------------------------#
def enstrophy_field(
        omega1,                     # vorticity-1 component
        omega2,                     # vorticity-2 component
        omega3):                    # vorticity-3 component

    """ Calculating the enstrophy field """
    #---------------------------------------------------------------------#
    # Determining the shape of the KE field                               #
    #---------------------------------------------------------------------#
    dim     = omega1.shape
    ens     = np.empty((dim[0], dim[1], dim[2], dim[3]))
    #---------------------------------------------------------------------#
    # Time loop                                                           #
    #---------------------------------------------------------------------#
    print_count = 0
    for i in range(0, dim[3]):
        term1           = np.square(omega1[:,:,:,i])
        term2           = np.square(omega2[:,:,:,i])
        term3           = np.square(omega3[:,:,:,i])
        ens[:,:,:,i]    = 0.5*(term1 + term2 + term3)
        #-----------------------------------------------------------------#
        # Printing statement                                              #
        #-----------------------------------------------------------------#
        if print_count > 20:
            print('Enstrophy field ---> t_step = %i'      %(i))
            print_count = 0
        print_count += 1

    return ens
#=========================================================================#
# Main                                                                    #
#=========================================================================#
if __name__ == "__main__":
    #---------------------------------------------------------------------#
    # Main preamble                                                       #
    #---------------------------------------------------------------------#
    call(["clear"])
    #---------------------------------------------------------------------#
    # Print statement                                                     #
    #---------------------------------------------------------------------#
    print('This has not been unit tested')

    sys.exit(0)
